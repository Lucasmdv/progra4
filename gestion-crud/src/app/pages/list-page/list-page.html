<main>
    <form [formGroup]="formFiltros">
        <fieldset>
            <label for="filtro">Filtro: </label>
            <select name="filtro" id="filtro" formControlName="filtro">
                <option value="" disabled>Seleccione un filtro</option>
                <option value="Nombre">Nombre</option>
                <option value="MayorMenor">Precio: Mayor a menor</option>
                <option value="MenorMayor">Precio: Menor a mayor</option>
            </select>
        </fieldset>
    
        <fieldset>
            <label for="producto">Buscar: </label>
            <input type="text" name="producto" id="producto" formControlName="producto" placeholder="Nombre del producto">
        </fieldset>
    </form>

    <ul>
        @if (products && products.length > 0 ) {
            @for(product of products; track $index){
            <li>
                <a [routerLink]="['/product/details', product.id]">
                    <h3>Nombre: {{product.name}}</h3>
                    <h4>Precio: {{product.price}}</h4>
                    <h4>Stock: {{product.stock}}</h4>
                </a>
                <button (click)="editProduct(product)">Editar</button>
                <button (click)="deleteProduct(product.id)">Eliminar</button>
            </li>
            }
        }@else{
            <p class="emptyArray">No hay productos que cumplan con los filtros aplicados</p>
        }
        
    </ul>
</main>
